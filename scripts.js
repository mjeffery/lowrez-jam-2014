!function(a){function b(a,c,d){Phaser.Sprite.call(this,a,c,d,"player"),this.animations.add("stand",[0]),this.animations.play("stand"),a.physics.enable(this,Phaser.Physics.ARCADE),this.body.setSize(3,6,0,2),this.body.acceleration.y=b.Gravity,this.grounded=!1,this.canVariableJump=!1;var e=this.game.input.keyboard,f=this.keys=e.createCursorKeys();_.extend(f,{jump:e.addKey(Phaser.Keyboard.Z),shoot:e.addKey(Phaser.Keyboard.X)}),e.addKeyCapture(_.values(f))}_.extend(b,{Speed:{Walk:9},Jump:{Speed:-30,Duration:150},Gravity:60,preload:function(a){a.spritesheet("player","assets/player.ba0f3fc5.png",4,8)}}),b.prototype=Object.create(Phaser.Sprite.prototype),b.prototype.constructor=b,_.extend(b.prototype,{update:function(){var a=this.keys,c=this.grounded=this.body.blocked.down;a.left.isDown?(this.body.velocity.x=-b.Speed.Walk,this.facing=Phaser.LEFT):a.right.isDown?(this.body.velocity.x=b.Speed.Walk,this.facing=Phaser.RIGHT):this.body.velocity.x=0,c&&a.jump.justPressed(5)&&(this.body.velocity.y=b.Jump.Speed,this.canVariableJump=!0),this.canVariableJump&&a.jump.justPressed(b.Jump.Duration)&&(this.body.velocity.y=b.Jump.Speed),a.jump.isUp&&(this.canVariableJump=!1)}}),a.Player=b}(this),function(a){function b(){}_.extend(b,{preload:function(a){a.image("test-tiles-green","assets/test tiles green.9be13b98.png"),a.tilemap("green-test-level","assets/green test level.66eb59f6.json",void 0,Phaser.Tilemap.TILED_JSON)}}),b.prototype={create:function(){this.game.physics.startSystem(Phaser.Physics.ARCADE);var a=this.map=this.add.tilemap("green-test-level");a.addTilesetImage("Green Tiles","test-tiles-green",4,4),a.setCollision(2);var b=this.layer=a.createLayer("terrain");b.resizeWorld();var c=this.player=this.add.existing(new Player(this.game,12,20));this.game.camera.follow(c)},update:function(){var a=this.game.physics,b=this.player,c=this.layer;a.arcade.collide(b,c)}},a.Game=b}(this),function(a){function b(){}b.prototype={preload:function(){this.load.image("loading-bar","assets/loading bar.f44b1a70.png"),this.load.image("loading-bag-bg","assets/loading bar bg.1fe86dc8.png")},create:function(){this.game.scale.scaleFactor.setTo(4,4),this.state.start("preload")}},a.Boot=b}(this),function(a){function b(){}b.prototype={preload:function(){var a=-134,b=12,c=this.add,d=this.load;c.sprite(a,b,"loading-bar-bg");var e=c.sprite(a,b,"loading-bar");d.setPreloadSprite(e),d.bitmapFont("minecraftia","assets/minecraftia.d0c5b06a.png","assets/minecraftia.ddf29ec1.xml"),Game.preload(d),Player.preload(d),d.onLoadComplete.addOnce(this.onLoadComplete,this)},create:function(){this.stage.backgroundColor="#000000"},onLoadComplete:function(){this.state.start("game")}},a.Preload=b}(this),function(a){function b(){Phaser.Game.apply(this,arguments)}function c(a,b,c){var d=a[b];a[b]=function(){var a=this.__super;this.__super=d,c.apply(this,arguments),this.__super=a}}b.prototype=Object.create(Phaser.Game.prototype),b.prototype.constructor=b,c(b.prototype,"boot",function(){this.__super();var a=document.getElementById("canvas"),b=this.upscaledContext=a.getContext("2d");b.imageSmoothingEnabled=!1,b.webkitImageSmoothingEnabled=!1,b.mozImageSmoothingEnabled=!1,b.oImageSmoothingEnabled=!1}),c(b.prototype,"update",function(a){this.__super(a),this.upscaledContext.drawImage(this.canvas,0,0,256,256)}),a.UpscaledGame=b}(this);var game=new UpscaledGame(32,32,Phaser.AUTO,"game-container");game.state.add("boot",Boot),game.state.add("preload",Preload),game.state.add("game",Game),game.state.start("boot"),game.antialias=!1;